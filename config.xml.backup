<?xml version='1.0' encoding='utf-8'?>
<widget id="com.miempresa.proyecto6" version="1.0.0" xmlns="http://www.w3.org/ns/widgets" xmlns:android="http://schemas.android.com/apk/res/android" xmlns:cdv="http://cordova.apache.org/ns/1.0">
        <name>Proyecto6</name>
    <description>App para bastones inteligentes con mapa</description>
    <author email="dev@cordova.apache.org" href="https://cordova.apache.org">
    Eliezer Zuriel
  </author>
    <content src="splash.html" />
    <access origin="*" />
    <allow-navigation href="*" />
    <allow-navigation href="http://192.168.4.1/*" />
    <allow-intent href="http://*/*" />
    <allow-intent href="https://*/*" />
    <allow-intent href="tel:*" />
    <allow-intent href="sms:*" />
    <allow-intent href="mailto:*" />
    
    <!-- Google Maps API Key (requerido por el plugin) -->
    <preference name="GOOGLE_MAPS_ANDROID_API_KEY" value="AIzaSyDPn7ufBV8nVIAKNS6LaS4fjdylKxWeEOs" />
    
    <!-- Android Configuration -->
    <preference name="android-minSdkVersion" value="23" />
    <preference name="android-targetSdkVersion" value="31" />
    <preference name="android-compileSdkVersion" value="35" />
    
    <!-- Geolocation preferences -->
    <preference name="GPS_REQUIRED" value="true" />
    <preference name="location" value="true" />
    
    <platform name="android">
        <!-- Permisos de ubicación -->
        <edit-config file="AndroidManifest.xml" mode="merge" target="/manifest">
            <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
            <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
            <uses-feature android:name="android.hardware.location" android:required="true" />
            <uses-feature android:name="android.hardware.location.gps" android:required="false" />
            <uses-feature android:name="android.hardware.location.network" android:required="false" />
        </edit-config>
        
        <!-- Otros permisos -->
        <edit-config file="AndroidManifest.xml" mode="merge" target="/manifest">
            <uses-permission android:name="android.permission.INTERNET" />
            <uses-permission android:name="android.permission.CALL_PHONE" />
            <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
        </edit-config>
        
        <!-- Configuración adicional para geolocalización -->
        <edit-config file="AndroidManifest.xml" mode="merge" target="/manifest/application">
            <meta-data android:name="com.google.android.geo.API_KEY" android:value="AIzaSyDPn7ufBV8nVIAKNS6LaS4fjdylKxWeEOs" />
        </edit-config>
        
        <icon density="ldpi" src="www/img/logo.png" />
        <icon density="mdpi" src="www/img/logo.png" />
        <icon density="hdpi" src="www/img/logo.png" />
        <icon density="xhdpi" src="www/img/logo.png" />
    </platform>
</widget>
